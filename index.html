<!DOCTYPE html>
<html>
<body>

<h2>The XMLHttpRequest Object</h2>
<button type="button" onclick="loadDoc()">Create Account</button>

 <p style="margin-top:20px;">Check to Get Some Data </p>
  <button type="button" onclick="handleClick()"> Get Account</button>

 <button onclick="fetchApiRequest()">fetchApiRequest</button>

<p id="demo"></p>

 <button onclick="fetchwebPageDetails()">Get Web Pages </button>
 
<script>
function loadDoc() {
  const xhttp = new XMLHttpRequest();
  xhttp.onload = function() {
    document.getElementById("demo").innerHTML = this.responseText;
  }
  xhttp.open("POST", "https://toletplus3-dev-ed.develop.my.site.com/services/apexrest/shopyfyAccountSync");
  xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
  xhttp.send("fname=Henry&lname=Ford");
}

  function  handleClick() {
  const xhttp1 = new XMLHttpRequest();
  xhttp1.onload = function() {
    document.getElementById("demo").innerHTML = this.responseText;
  }
  xhttp1.open("GET", "https://toletplus3-dev-ed.develop.my.site.com/services/apexrest/shopyfyAccountSync");
  xhttp1.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
 xhttp1.send();
   }

 function fetchApiRequest() {
 fetch("https://toletplus3-dev-ed.develop.my.site.com/services/apexrest/shopyfyAccountSync", {
  method: "POST",
  body: JSON.stringify({
    userId: 1,
    title: "Fix my bugs",
    completed: false
  }),
  headers: {
    "Content-type": "application/json; charset=UTF-8"
  }
})
  .then((response) => response.json())
  .then((json) => console.log(json));
 }
  function fetchwebPageDetails() {
 fetch("https://toletplus3-dev-ed.develop.my.site.com/talkter/services/apexrest/webStoreController", {
  method: "GET",
  // body: JSON.stringify({
  //   userId: 1,
  //   title: "Fix my bugs",
  //   completed: false
  // }),
  headers: {
    "Content-type": "application/json; charset=UTF-8"
  }
})
  .then((response) => response.json())
  .then((json) => console.log(json)
       let dataLOg= json;
       Console.log('dataLOg',dataLOg);
       );
 }
</script>

</body>
</html>
